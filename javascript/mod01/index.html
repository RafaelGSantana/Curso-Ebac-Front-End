<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <title>Javascript Foundation - Ebac</title>
  </head>

  <body>
    <div class="container">
      <header>
        <nav>
          <a href="./algoritmo.html">Exercício 1</a>
          <a href="#">Exercício 2</a>
        </nav>
      </header>

      <div class="title">
        <p>Digite 3 números para calcular a média</p>
      </div>

      <div class="form-wrapper">
        <input type="number" id="a" placeholder="Digite apenas valores positivos" required min="0" onkeyup="somenteNumeros(this)">
        <input type="number" id="b" placeholder="Digite apenas valores positivos" required min="0" onkeyup="somenteNumeros(this)">
        <input type="number" id="c" placeholder="Digite apenas valores positivos" required min="0" onkeyup="somenteNumeros(this)">
      
        <button id="resultado" onclick="obterMedia()" disabled>
          Calcular média
        </button>
      </div>
    </div>
  </body>

  <script>
    function obterMedia() {
      var a = parseInt(document.getElementById("a").value);
      var b = parseInt(document.getElementById("b").value);
      var c = parseInt(document.getElementById("c").value);

      var media = (a + b + c) / 3;

      document.getElementById("resultado").innerHTML = "Média: " + media;

    }


    function checkInputs(inputs) {
      var filled = true;
      
      inputs.forEach(function(input) {
          
        if(input.value === "") {
            filled = false;
        }
      
      });
      
      return filled;
    }

    var inputs = document.querySelectorAll("input");
    var button = document.querySelector("button");

    inputs.forEach(function(input) {
        
      input.addEventListener("keyup", function() {
        if(checkInputs(inputs)) {
          button.disabled = false;
        } else {
          button.disabled = true;
        }
      });
    });

    // Se número for negativo, reseta o input.value, o que mantém o button disabilitado.
    function somenteNumeros(num) {
        var er = /[^0-9.]/;
        er.lastIndex = 0;
        var campo = num;
        if (er.test(campo.value)) {
          campo.value = "";
        }
    }
  </script>
</html>